# ============================================
# Safar Backend - Production Environment Variables
# ============================================
# Copy this file to .env and update with your actual values
# IMPORTANT: Generate a new SECRET_KEY for production!

# ============================================
# Application Settings
# ============================================
APP_NAME=Safar API
APP_VERSION=1.0.0
API_V1_PREFIX=/api/v1
DEBUG=False
ENVIRONMENT=production

# ============================================
# Server Configuration
# ============================================
HOST=0.0.0.0
PORT=8000
BACKEND_PORT=8010

# ============================================
# Database Configuration (PostgreSQL with PostGIS)
# ============================================
POSTGRES_USER=safar_user
POSTGRES_PASSWORD=change_this_strong_password
POSTGRES_SERVER=postgres
POSTGRES_PORT=5432
POSTGRES_DB=safar_db

# Full database URL (optional, will be auto-generated if not provided)
DATABASE_URL=postgresql+asyncpg://safar_user:change_this_strong_password@postgres:5432/safar_db

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=change_this_strong_password

# Full Redis URL (optional, will be auto-generated if not provided)
REDIS_URL=redis://:change_this_strong_password@redis:6379/0

# ============================================
# Security & Authentication
# ============================================
# CRITICAL: Generate a strong secret key using one of these methods:
#   - Python: python -c "import secrets; print(secrets.token_hex(32))"
#   - OpenSSL: openssl rand -hex 32
#   - Online: https://generate-secret.vercel.app/64
# 
# This key must be at least 32 characters (64 hex characters recommended)
# Replace the value below with your generated key:
SECRET_KEY=11f374825cbe329ea77c5a810bece87a57c7c968d38f7e810a44f71747bd0b71
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# OAuth2 Providers
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=1025878493612-eel7vchco9498v33nns2742mj152t140.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# Apple OAuth
APPLE_CLIENT_ID=
APPLE_CLIENT_SECRET=

# ============================================
# SMS/OTP Configuration (Twilio)
# ============================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ============================================
# File Storage Configuration
# ============================================
STORAGE_TYPE=minio

# AWS S3 Configuration (if STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=

# MinIO Configuration (if STORAGE_TYPE=minio)
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_API_PORT=19000
MINIO_CONSOLE_PORT=19001
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=safar-files
MINIO_USE_SSL=False

# Cloudinary Configuration (if STORAGE_TYPE=cloudinary)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Upload Limits
MAX_UPLOAD_SIZE=10485760

# ============================================
# Email Configuration (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@safar.com
SMTP_FROM_NAME=Safar

# ============================================
# Payment Gateways
# ============================================
# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# PayPal
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=

# ============================================
# AI Services
# ============================================
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o

# ============================================
# Monitoring & Error Tracking
# ============================================
# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins (NO SPACES after commas)
# Remove trailing slashes from URLs
CORS_ORIGINS=https://safar-sable.vercel.app,https://safar.mulverse.com
CORS_ALLOW_CREDENTIALS=True

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# Booking Configuration
# ============================================
BOOKING_MAX_WINDOW_DAYS=365
BOOKING_MIN_ADVANCE_HOURS=0
BOOKING_MAX_ADVANCE_DAYS=730

# ============================================
# Multi-tenancy
# ============================================
MULTI_TENANCY_ENABLED=True

# ============================================
# Localization
# ============================================
DEFAULT_LANGUAGE=ar
SUPPORTED_LANGUAGES=ar,en,fr,es
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,SAR,AED,EGP

# ============================================
# Search Configuration
# ============================================
ENABLE_VECTOR_SEARCH=True
SEARCH_RESULTS_LIMIT=50

# ============================================
# WebSocket Configuration
# ============================================
WEBSOCKET_ENABLED=True
WEBSOCKET_HEARTBEAT_INTERVAL=30

# ============================================
# Monitoring & Development Tools
# ============================================
# Flower (Celery Monitoring) - Optional
FLOWER_PORT=5555

